{"ast":null,"code":"import _asyncToGenerator from\"/home/hain/code/project-semantic/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/hain/code/project-semantic/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{FETCH_ALL_PDF,FETCH_PDF_DATA,OPEN_PDF,CREATE_PDF,DELETE_PDF}from\"../constants/actions.js\";import*as api from\"../api/Pdf.js\";import{triggerBase64Download}from'common-base64-downloader-react';export var getPdfs=function getPdfs(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$api$getPdfs,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.getPdfs();case 3:_yield$api$getPdfs=_context.sent;data=_yield$api$getPdfs.data;dispatch({type:FETCH_ALL_PDF,payload:data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getPdfData=function getPdfData(pdf){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$api$getPdfData,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.getPdfData({id:pdf._id});case 3:_yield$api$getPdfData=_context2.sent;data=_yield$api$getPdfData.data;triggerBase64Download(data.selectedFile,pdf.name);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var createPdf=function createPdf(formData){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var arr,i,_yield$api$createPdf,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;console.log(formData);arr=[];i=0;case 4:if(!(i<formData.length)){_context3.next=13;break;}_context3.next=7;return api.createPdf(formData[i]);case 7:_yield$api$createPdf=_context3.sent;data=_yield$api$createPdf.data;console.log(\"finished with \"+formData[i].name);case 10:i++;_context3.next=4;break;case 13:dispatch({type:CREATE_PDF,payload:arr});_context3.next=19;break;case 16:_context3.prev=16;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 19:case\"end\":return _context3.stop();}}},_callee3,null,[[0,16]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var deletePdf=function deletePdf(formData){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var _yield$api$deletePdf,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;console.log(formData);_context4.next=4;return api.deletePdf(formData);case 4:_yield$api$deletePdf=_context4.sent;data=_yield$api$deletePdf.data;dispatch({type:DELETE_PDF,payload:data});_context4.next=12;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var openPdf=function openPdf(pdf){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:try{dispatch({type:OPEN_PDF,payload:pdf});}catch(error){console.log(error);}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/hain/code/project-semantic/frontend/src/actions/Pdfs.js"],"names":["FETCH_ALL_PDF","FETCH_PDF_DATA","OPEN_PDF","CREATE_PDF","DELETE_PDF","api","triggerBase64Download","getPdfs","dispatch","data","type","payload","console","log","getPdfData","pdf","id","_id","selectedFile","name","createPdf","formData","arr","i","length","deletePdf","openPdf","error"],"mappings":"iQAAA,OAASA,aAAT,CAAwBC,cAAxB,CAAwCC,QAAxC,CAAkDC,UAAlD,CAA8DC,UAA9D,KAAgF,yBAAhF,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,eAArB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAGA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,kGAAM,iBAAOC,QAAP,oLAEEH,CAAAA,GAAG,CAACE,OAAJ,EAFF,yCAEbE,IAFa,oBAEbA,IAFa,CAGrBD,QAAQ,CAAC,CAAEE,IAAI,CAAEV,aAAR,CAAuBW,OAAO,CAAEF,IAAhC,CAAD,CAAR,CAHqB,+EAKrBG,OAAO,CAACC,GAAR,cALqB,oEAAN,gEAAhB,CASP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,GAAD,kGAAS,kBAAOP,QAAP,6LAEJH,CAAAA,GAAG,CAACS,UAAJ,CAAe,CAACE,EAAE,CAAED,GAAG,CAACE,GAAT,CAAf,CAFI,6CAEnBR,IAFmB,uBAEnBA,IAFmB,CAG3BH,qBAAqB,CAACG,IAAI,CAACS,YAAN,CAAoBH,GAAG,CAACI,IAAxB,CAArB,CAH2B,mFAK3BP,OAAO,CAACC,GAAR,eAL2B,sEAAT,kEAAnB,CASP,MAAO,IAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,QAAD,kGAAc,kBAAOb,QAAP,2KAE/BI,OAAO,CAACC,GAAR,CAAYQ,QAAZ,EACIC,GAH2B,CAGrB,EAHqB,CAIvBC,CAJuB,CAInB,CAJmB,aAIhBA,CAAC,CAAGF,QAAQ,CAACG,MAJG,mDAKJnB,CAAAA,GAAG,CAACe,SAAJ,CAAcC,QAAQ,CAACE,CAAD,CAAtB,CALI,4CAKnBd,IALmB,sBAKnBA,IALmB,CAM3BG,OAAO,CAACC,GAAR,CAAY,iBAAmBQ,QAAQ,CAACE,CAAD,CAAR,CAAYJ,IAA3C,EAN2B,QAIKI,CAAC,EAJN,gCAQ/Bf,QAAQ,CAAC,CAAEE,IAAI,CAAEP,UAAR,CAAoBQ,OAAO,CAAEW,GAA7B,CAAD,CAAR,CAR+B,qFAU/BV,OAAO,CAACC,GAAR,eAV+B,uEAAd,kEAAlB,CAcP,MAAO,IAAMY,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACJ,QAAD,kGAAc,kBAAOb,QAAP,qKAE/BI,OAAO,CAACC,GAAR,CAAYQ,QAAZ,EAF+B,uBAGRhB,CAAAA,GAAG,CAACoB,SAAJ,CAAcJ,QAAd,CAHQ,4CAGvBZ,IAHuB,sBAGvBA,IAHuB,CAI/BD,QAAQ,CAAC,CAAEE,IAAI,CAAEN,UAAR,CAAoBO,OAAO,CAAEF,IAA7B,CAAD,CAAR,CAJ+B,mFAM/BG,OAAO,CAACC,GAAR,eAN+B,sEAAd,kEAAlB,CAUP,MAAO,IAAMa,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACX,GAAD,kGAAS,kBAAOP,QAAP,sHAC5B,GAAG,CACCA,QAAQ,CAAC,CAAEE,IAAI,CAAER,QAAR,CAAkBS,OAAO,CAAEI,GAA3B,CAAD,CAAR,CACH,OAAOY,KAAP,CAAa,CACVf,OAAO,CAACC,GAAR,CAAYc,KAAZ,EACH,CAL2B,wDAAT,kEAAhB","sourcesContent":["import { FETCH_ALL_PDF, FETCH_PDF_DATA, OPEN_PDF, CREATE_PDF, DELETE_PDF } from \"../constants/actions.js\";\nimport * as api from \"../api/Pdf.js\";\nimport { triggerBase64Download } from 'common-base64-downloader-react';\n\n\nexport const getPdfs = () => async (dispatch) => {\n    try {\n        const { data } = await api.getPdfs();\n        dispatch({ type: FETCH_ALL_PDF, payload: data });\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const getPdfData = (pdf) => async (dispatch) => {\n    try {\n        const { data } = await api.getPdfData({id: pdf._id});\n        triggerBase64Download(data.selectedFile, pdf.name)\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const createPdf = (formData) => async (dispatch) => {\n    try {\n        console.log(formData)\n        let arr = []\n        for(let i = 0; i < formData.length; i++){\n            const { data } = await api.createPdf(formData[i]);\n            console.log(\"finished with \" + formData[i].name)\n        }\n        dispatch({ type: CREATE_PDF, payload: arr});\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const deletePdf = (formData) => async (dispatch) => {\n    try {\n        console.log(formData);\n        const { data } = await api.deletePdf(formData);\n        dispatch({ type: DELETE_PDF, payload: data });\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const openPdf = (pdf) => async (dispatch) => {\n    try{\n        dispatch({ type: OPEN_PDF, payload: pdf });\n    }catch (error){\n        console.log(error);\n    }\n};\n"]},"metadata":{},"sourceType":"module"}