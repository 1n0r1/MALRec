{"ast":null,"code":"import _objectSpread from\"/home/hain/code/project-semantic/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/hain/code/project-semantic/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{SIGNOUT}from\"../../constants/actions.js\";import React,{useState,useEffect}from\"react\";import{useNavigate,useLocation}from\"react-router\";import{useDispatch}from\"react-redux\";import{Menu,MenuItem,Typography,Toolbar,AppBar,Box,Button,Avatar,IconButton}from\"@mui/material\";import{Link}from\"react-router-dom\";import PdfForm from\"../PdfsForm/Form.jsx\";import SearchIcon from'@mui/icons-material/Search';import Searchbar from\"../Searchbar/Searchbar.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Navbar(){var dispatch=useDispatch();var navigate=useNavigate();var location=useLocation();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),showUserMenu=_useState4[0],setShowUserMenu=_useState4[1];function stringToColor(string){var hash=0;var i;/* eslint-disable no-bitwise */for(i=0;i<string.length;i+=1){hash=string.charCodeAt(i)+((hash<<5)-hash);}var color=\"#\";for(i=0;i<3;i+=1){var value=hash>>i*8&0xff;color+=\"00\".concat(value.toString(16)).slice(-2);}/* eslint-enable no-bitwise */return color;}function stringAvatar(name){return{sx:{bgcolor:stringToColor(name)},children:\"\".concat(name.split(\" \")[0][0]).concat(name.split(\" \")[1][0])};}useEffect(function(){var _JSON$parse;setUser((_JSON$parse=JSON.parse(localStorage.getItem(\"profile\")))===null||_JSON$parse===void 0?void 0:_JSON$parse.result);},[location,dispatch]);function handleShowUserMenu(e){setShowUserMenu(e.currentTarget);}function handleCloseUserMenu(){setShowUserMenu(null);}function signout(){dispatch({type:SIGNOUT,data:null});navigate(\"/\");}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",variant:\"dense\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,display:{xs:\"flex\",md:\"flex\"}},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:function onClick(){navigate(\"/pdf\");},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",textAlign:\"center\",children:\"Pdfs\"})},\"pdf\"),/*#__PURE__*/_jsx(MenuItem,{onClick:function onClick(){navigate(\"/\");},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",textAlign:\"center\",children:\"Search Engine\"})},\"UKG\")]}),user==null?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{component:Link,to:\"/authentication\",variant:\"contained\",color:\"primary\",children:\"Sign In\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PdfForm,{}),/*#__PURE__*/_jsx(IconButton,{onClick:handleShowUserMenu,children:user!==null&&user!==void 0&&user.imageUrl&&(user===null||user===void 0?void 0:user.imageUrl)!==\"\"?/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.imageUrl}):/*#__PURE__*/_jsx(Avatar,_objectSpread({},stringAvatar(\"\".concat(user===null||user===void 0?void 0:user.familyName,\" \").concat(user===null||user===void 0?void 0:user.givenName))))}),/*#__PURE__*/_jsxs(Menu,{sx:{mt:\"45px\"},id:\"menu-appbar\",anchorEl:showUserMenu,anchorOrigin:{vertical:\"top\",horizontal:\"right\"},keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:Boolean(showUserMenu),onClose:handleCloseUserMenu,children:[/*#__PURE__*/_jsx(MenuItem,{component:Link,to:\"/\",children:/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Home\"})},\"Home\"),/*#__PURE__*/_jsx(MenuItem,{onClick:signout,children:/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Sign Out\"})},\"Logout\")]})]})]})}),/*#__PURE__*/_jsx(Toolbar,{})]});}export default Navbar;","map":{"version":3,"sources":["/home/hain/code/project-semantic/frontend/src/components/Navbar/Navbar.jsx"],"names":["SIGNOUT","React","useState","useEffect","useNavigate","useLocation","useDispatch","Menu","MenuItem","Typography","Toolbar","AppBar","Box","Button","Avatar","IconButton","Link","PdfForm","SearchIcon","Searchbar","Navbar","dispatch","navigate","location","user","setUser","showUserMenu","setShowUserMenu","stringToColor","string","hash","i","length","charCodeAt","color","value","toString","slice","stringAvatar","name","sx","bgcolor","children","split","JSON","parse","localStorage","getItem","result","handleShowUserMenu","e","currentTarget","handleCloseUserMenu","signout","type","data","flexGrow","display","xs","md","imageUrl","familyName","givenName","mt","vertical","horizontal","Boolean"],"mappings":"6PAAA,OAAQA,OAAR,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,cAAvC,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,OAASC,IAAT,CAAeC,QAAf,CAAyBC,UAAzB,CAAqCC,OAArC,CAA8CC,MAA9C,CAAsDC,GAAtD,CAA2DC,MAA3D,CAAmEC,MAAnE,CAA2EC,UAA3E,KAA6F,eAA7F,CACA,OAAQC,IAAR,KAAoB,kBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,C,6IAEA,QAASC,CAAAA,MAAT,EAAiB,CACb,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CACA,GAAMmB,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CACA,cAAwBH,QAAQ,CAAC,IAAD,CAAhC,wCAAOsB,IAAP,eAAaC,OAAb,eACA,eAAwCvB,QAAQ,CAAC,IAAD,CAAhD,yCAAOwB,YAAP,eAAqBC,eAArB,eAEA,QAASC,CAAAA,aAAT,CAAuBC,MAAvB,CAA+B,CAC3B,GAAIC,CAAAA,IAAI,CAAG,CAAX,CACA,GAAIC,CAAAA,CAAJ,CAEA,+BACA,IAAKA,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGF,MAAM,CAACG,MAAvB,CAA+BD,CAAC,EAAI,CAApC,CAAuC,CACnCD,IAAI,CAAGD,MAAM,CAACI,UAAP,CAAkBF,CAAlB,GAAwB,CAACD,IAAI,EAAI,CAAT,EAAcA,IAAtC,CAAP,CACH,CAED,GAAII,CAAAA,KAAK,CAAG,GAAZ,CACA,IAAKH,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG,CAAhB,CAAmBA,CAAC,EAAI,CAAxB,CAA2B,CACvB,GAAMI,CAAAA,KAAK,CAAIL,IAAI,EAAKC,CAAC,CAAG,CAAd,CAAoB,IAAlC,CACAG,KAAK,EAAI,YAAKC,KAAK,CAACC,QAAN,CAAe,EAAf,CAAL,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAT,CACH,CACD,8BAEA,MAAOH,CAAAA,KAAP,CACH,CAED,QAASI,CAAAA,YAAT,CAAsBC,IAAtB,CAA4B,CACxB,MAAO,CACHC,EAAE,CAAE,CACAC,OAAO,CAAEb,aAAa,CAACW,IAAD,CADtB,CADD,CAIHG,QAAQ,WAAKH,IAAI,CAACI,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAL,SAA6BJ,IAAI,CAACI,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAA7B,CAJL,CAAP,CAMH,CAEDxC,SAAS,CAAC,UAAK,iBACXsB,OAAO,cAACmB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAD,sCAAC,YAA6CC,MAA9C,CAAP,CACH,CAFQ,CAEP,CAACzB,QAAD,CAAWF,QAAX,CAFO,CAAT,CAGA,QAAS4B,CAAAA,kBAAT,CAA4BC,CAA5B,CAA8B,CAC1BvB,eAAe,CAACuB,CAAC,CAACC,aAAH,CAAf,CACH,CAED,QAASC,CAAAA,mBAAT,EAA8B,CAC1BzB,eAAe,CAAC,IAAD,CAAf,CACH,CAED,QAAS0B,CAAAA,OAAT,EAAkB,CACdhC,QAAQ,CAAC,CAACiC,IAAI,CAAEtD,OAAP,CAAgBuD,IAAI,CAAE,IAAtB,CAAD,CAAR,CACAjC,QAAQ,CAAC,GAAD,CAAR,CACH,CACD,mBACI,wCACI,KAAC,MAAD,EAAQ,QAAQ,CAAC,OAAjB,CAAyB,OAAO,CAAC,OAAjC,uBACI,MAAC,OAAD,yBACI,MAAC,GAAD,EAAK,EAAE,CAAE,CAAEkC,QAAQ,CAAE,CAAZ,CAAeC,OAAO,CAAE,CAAEC,EAAE,CAAE,MAAN,CAAcC,EAAE,CAAE,MAAlB,CAAxB,CAAT,wBACI,KAAC,QAAD,EAAoB,OAAO,CAAE,kBAAM,CAACrC,QAAQ,CAAC,MAAD,CAAR,CAAkB,CAAtD,uBACI,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAC,QAAnC,kBADJ,EAAc,KAAd,CADJ,cAII,KAAC,QAAD,EAAoB,OAAO,CAAE,kBAAM,CAACA,QAAQ,CAAC,GAAD,CAAR,CAAe,CAAnD,uBACI,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAC,QAAnC,2BADJ,EAAc,KAAd,CAJJ,GADJ,CAUQE,IAAI,EAAI,IAAR,cACI,sCACI,KAAC,MAAD,EAAQ,SAAS,CAAER,IAAnB,CAAyB,EAAE,CAAE,iBAA7B,CAAgD,OAAO,CAAC,WAAxD,CAAoE,KAAK,CAAC,SAA1E,qBADJ,EADJ,cAKI,wCACI,KAAC,OAAD,IADJ,cAEI,KAAC,UAAD,EAAY,OAAO,CAAEiC,kBAArB,UAEQzB,IAAI,OAAJ,EAAAA,IAAI,SAAJ,EAAAA,IAAI,CAAEoC,QAAN,EAAkB,CAAApC,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEoC,QAAN,IAAmB,EAArC,cACI,KAAC,MAAD,EAAQ,GAAG,CAAEpC,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEoC,QAAnB,EADJ,cAGI,KAAC,MAAD,kBAAYtB,YAAY,WAAId,IAAJ,SAAIA,IAAJ,iBAAIA,IAAI,CAAEqC,UAAV,aAAwBrC,IAAxB,SAAwBA,IAAxB,iBAAwBA,IAAI,CAAEsC,SAA9B,EAAxB,EALZ,EAFJ,cAWI,MAAC,IAAD,EAAM,EAAE,CAAE,CAAEC,EAAE,CAAE,MAAN,CAAV,CACM,EAAE,CAAC,aADT,CAEM,QAAQ,CAAErC,YAFhB,CAGM,YAAY,CAAE,CACVsC,QAAQ,CAAE,KADA,CAEVC,UAAU,CAAE,OAFF,CAHpB,CAOM,WAAW,KAPjB,CAQM,eAAe,CAAE,CACbD,QAAQ,CAAE,KADG,CAEbC,UAAU,CAAE,OAFC,CARvB,CAYM,IAAI,CAAEC,OAAO,CAACxC,YAAD,CAZnB,CAaM,OAAO,CAAE0B,mBAbf,wBAeI,KAAC,QAAD,EAAqB,SAAS,CAAEpC,IAAhC,CAAsC,EAAE,CAAE,GAA1C,uBACI,KAAC,UAAD,EAAY,SAAS,CAAC,QAAtB,kBADJ,EAAc,MAAd,CAfJ,cAkBI,KAAC,QAAD,EAAuB,OAAO,CAAEqC,OAAhC,uBACI,KAAC,UAAD,EAAY,SAAS,CAAC,QAAtB,sBADJ,EAAc,QAAd,CAlBJ,GAXJ,GAfZ,GADJ,EADJ,cAuDI,KAAC,OAAD,IAvDJ,GADJ,CA2DH,CAED,cAAejC,CAAAA,MAAf","sourcesContent":["import {SIGNOUT} from \"../../constants/actions.js\";\nimport React, {useState, useEffect} from \"react\";\nimport {useNavigate, useLocation} from \"react-router\";\nimport {useDispatch} from \"react-redux\";\nimport { Menu, MenuItem, Typography, Toolbar, AppBar, Box, Button, Avatar, IconButton } from \"@mui/material\";\nimport {Link } from \"react-router-dom\";\nimport PdfForm from \"../PdfsForm/Form.jsx\";\nimport SearchIcon from '@mui/icons-material/Search';\nimport Searchbar from \"../Searchbar/Searchbar.jsx\";\n\nfunction Navbar(){\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const [user, setUser] = useState(null);\n    const [showUserMenu, setShowUserMenu] = useState(null);\n\n    function stringToColor(string) {\n        let hash = 0;\n        let i;\n\n        /* eslint-disable no-bitwise */\n        for (i = 0; i < string.length; i += 1) {\n            hash = string.charCodeAt(i) + ((hash << 5) - hash);\n        }\n\n        let color = \"#\";\n        for (i = 0; i < 3; i += 1) {\n            const value = (hash >> (i * 8)) & 0xff;\n            color += `00${value.toString(16)}`.slice(-2);\n        }\n        /* eslint-enable no-bitwise */\n\n        return color;\n    }\n\n    function stringAvatar(name) {\n        return {\n            sx: {\n                bgcolor: stringToColor(name),\n            },\n            children: `${name.split(\" \")[0][0]}${name.split(\" \")[1][0]}`,\n        };\n    }\n\n    useEffect(() =>{\n        setUser(JSON.parse(localStorage.getItem(\"profile\"))?.result);\n    },[location, dispatch]);\n    function handleShowUserMenu(e){\n        setShowUserMenu(e.currentTarget);\n    }\n\n    function handleCloseUserMenu(){\n        setShowUserMenu(null);\n    }\n\n    function signout(){\n        dispatch({type: SIGNOUT, data: null});\n        navigate(\"/\");\n    }\n    return(\n        <>\n            <AppBar position=\"fixed\" variant=\"dense\">\n                <Toolbar>\n                    <Box sx={{ flexGrow: 1, display: { xs: \"flex\", md: \"flex\" } }}>\n                        <MenuItem key=\"pdf\" onClick={() => {navigate(\"/pdf\");}}>\n                            <Typography variant=\"h6\" textAlign=\"center\">Pdfs</Typography>\n                        </MenuItem>\n                        <MenuItem key=\"UKG\" onClick={() => {navigate(\"/\");}}>\n                            <Typography variant=\"h6\" textAlign=\"center\">Search Engine</Typography>\n                        </MenuItem>\n                    </Box>\n                    {\n                        user == null? (\n                            <>\n                                <Button component={Link} to={\"/authentication\"} variant=\"contained\" color=\"primary\">Sign In</Button>\n                            </>\n                        ) : (\n                            <>\n                                <PdfForm/>\n                                <IconButton onClick={handleShowUserMenu}>\n                                    {\n                                        user?.imageUrl && user?.imageUrl !== \"\"?(\n                                            <Avatar src={user?.imageUrl} ></Avatar>\n                                        ):(\n                                            <Avatar {...stringAvatar(`${user?.familyName} ${user?.givenName}`)} />\n                                        )\n                                    }\n                                </IconButton>\n                                <Menu sx={{ mt: \"45px\" }}\n                                      id=\"menu-appbar\"\n                                      anchorEl={showUserMenu}\n                                      anchorOrigin={{\n                                          vertical: \"top\",\n                                          horizontal: \"right\",\n                                      }}\n                                      keepMounted\n                                      transformOrigin={{\n                                          vertical: \"top\",\n                                          horizontal: \"right\",\n                                      }}\n                                      open={Boolean(showUserMenu)}\n                                      onClose={handleCloseUserMenu}\n                                >\n                                    <MenuItem key=\"Home\" component={Link} to={\"/\"}>\n                                        <Typography textAlign=\"center\">Home</Typography>\n                                    </MenuItem>\n                                    <MenuItem key=\"Logout\" onClick={signout}>\n                                        <Typography textAlign=\"center\">Sign Out</Typography>\n                                    </MenuItem>\n                                </Menu>\n                            </>\n                        )\n                    }\n                </Toolbar>\n            </AppBar>\n            <Toolbar/>\n        </>\n    );\n}\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}